:root{
  --bg:#0b1020;
  --panel:rgba(255,255,255,.06);
  --panel2:rgba(255,255,255,.09);
  --stroke:rgba(255,255,255,.12);
  --text:rgba(255,255,255,.92);
  --muted:rgba(255,255,255,.65);
  --muted2:rgba(255,255,255,.45);
  --good:#4ade80;
  --bad:#fb7185;
  --accent:#60a5fa;
  --shadow:0 12px 30px rgba(0,0,0,.45);
  --r:16px;
  --r2:22px;
  --font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family:var(--font);
  color:var(--text);
  background:
    radial-gradient(1200px 800px at 15% 10%, rgba(96,165,250,.20), transparent 55%),
    radial-gradient(1000px 700px at 85% 30%, rgba(167,139,250,.18), transparent 55%),
    radial-gradient(900px 650px at 35% 95%, rgba(74,222,128,.12), transparent 60%),
    linear-gradient(180deg,#070a14,var(--bg));
}

.wrap{max-width:1200px;margin:0 auto;padding:28px 18px 50px}
.header{display:flex;align-items:flex-end;justify-content:space-between;gap:18px;margin-bottom:18px}
.title{display:flex;flex-direction:column;gap:6px}
h1{margin:0;font-size:22px;letter-spacing:.2px}
.subtitle{margin:0;color:var(--muted);font-size:13px;line-height:1.35;max-width:760px}
.headerActions{display:flex;gap:10px;align-items:center}

.card{
  background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.05));
  border:1px solid var(--stroke);
  border-radius:var(--r2);
  box-shadow:var(--shadow);
  overflow:hidden;
}

.toolbar{
  display:grid;
  grid-template-columns:1.3fr auto 1fr;
  gap:12px;
  padding:14px;
  align-items:end;
  border-bottom:1px solid var(--stroke);
  background:rgba(255,255,255,.03);
}

.field{display:flex;flex-direction:column;gap:6px;min-width:0}
label{font-size:12px;color:var(--muted)}
input[type="text"], input[type="password"]{
  width:100%;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.18);
  color:var(--text);
  outline:none;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.06);
}
input::placeholder{color:rgba(255,255,255,.35)}

.btn{
  padding:10px 12px;
  border-radius:12px;
  border:1px solid var(--stroke);
  background:linear-gradient(180deg, rgba(96,165,250,.25), rgba(96,165,250,.12));
  color:var(--text);
  cursor:pointer;
  font-weight:650;
  letter-spacing:.2px;
  box-shadow:0 10px 18px rgba(0,0,0,.25);
  transition:transform .08s ease, filter .08s ease;
  user-select:none;
  white-space:nowrap;
}
.btn:hover{filter:brightness(1.08)}
.btn:active{transform:translateY(1px)}
.btn.secondary{background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06))}
.btn.danger{background:linear-gradient(180deg, rgba(251,113,133,.25), rgba(251,113,133,.12))}

.toggles{display:flex;gap:10px;align-items:center;justify-content:flex-end;flex-wrap:wrap}
.toggle{
  display:flex;gap:8px;align-items:center;
  padding:9px 10px;border-radius:12px;border:1px solid var(--stroke);
  background:rgba(255,255,255,.05);
}
.toggle span{font-size:12px;color:var(--muted);white-space:nowrap}
.toggle input{width:16px;height:16px;accent-color:var(--accent)}

.statusbar{
  padding:10px 14px;
  display:flex;
  justify-content:flex-end; /* pills only */
  gap:12px;
  align-items:center;
  border-bottom:1px solid var(--stroke);
  background:rgba(0,0,0,.12);
  color:var(--muted);
  font-size:12px;
}
.statusbar .right{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.pill{padding:6px 10px;border-radius:999px;border:1px solid var(--stroke);background:rgba(255,255,255,.05);color:var(--muted);white-space:nowrap}

.grid{
  display:grid;
  grid-template-columns:46px 1fr 110px 110px 120px 110px 110px 118px; /* wider actions column */
  gap:10px;
  padding:12px 14px;
  align-items:center;
}
.head{
  color:var(--muted);
  font-size:12px;
  text-transform:uppercase;
  letter-spacing:.12em;
  background:rgba(255,255,255,.03);
  border-bottom:1px solid var(--stroke);
}
.row{border-bottom:1px solid rgba(255,255,255,.06)}
.row:last-child{border-bottom:none}

.cell{min-width:0}
.order{font-variant-numeric:tabular-nums;color:var(--muted2);text-align:center;padding:6px 0}

.issue{display:flex;flex-direction:column;gap:4px;min-width:0}

/* Best UI: 2-line clamp for title */
.issue .top{
  display:flex;
  gap:10px;
  align-items:flex-start;
  min-width:0;
  justify-content:space-between;
}
.issue .name{
  font-weight:650;
  min-width:0;

  display:-webkit-box;
  -webkit-box-orient:vertical;
  -webkit-line-clamp:2;

  overflow:hidden;
  word-break:break-word;
  line-height:1.25;
}

.issue .meta{color:var(--muted2);font-size:12px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}

.badge{
  padding:4px 8px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:var(--muted);
  font-size:12px;
  white-space:nowrap;
  flex:0 0 auto;
}

/* Hide fetch status badges entirely (if still present in DOM) */
.badge.ok,
.badge.err{
  display:none !important;
}

a{color:var(--accent);text-decoration:none}
a:hover{text-decoration:underline}

select{
  width:100%;
  padding:10px 10px;
  border-radius:12px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.18);
  color:var(--text);
  outline:none;
}

.riceHead,.moveHead{text-align:right}
.rice{text-align:right;font-variant-numeric:tabular-nums;font-weight:750}
.rice small{display:block;color:var(--muted2);font-weight:500;margin-top:2px}

.actions{
  display:flex;
  gap:8px;
  justify-content:flex-end;
  align-items:center;
}
.iconbtn{
  width:34px;height:34px;border-radius:12px;border:1px solid var(--stroke);
  background:rgba(255,255,255,.05);color:var(--text);
  cursor:pointer;display:grid;place-items:center;
  transition:filter .08s ease, transform .08s ease;
  user-select:none;
}
.iconbtn:hover{filter:brightness(1.08)}
.iconbtn:active{transform:translateY(1px)}
.iconbtn:disabled{opacity:.35;cursor:not-allowed}

.iconbtn.trash{
  background: linear-gradient(180deg, rgba(251,113,133,.18), rgba(251,113,133,.08));
}

.footer{
  padding:14px;
  color:var(--muted2);
  font-size:12px;
  border-top:1px solid var(--stroke);
  background:rgba(255,255,255,.02);
  display:flex;
  justify-content:space-between;
  gap:10px;
  flex-wrap:wrap;
}
.hint{color:var(--muted)}

@media (max-width:980px){
  .toolbar{grid-template-columns:1fr auto}
  .toggles{justify-content:flex-start}
  .grid{grid-template-columns:32px 1fr 90px 90px 90px 90px 95px 118px}
}
@media (max-width:720px){
  .grid{grid-template-columns:28px 1fr 76px 76px 76px 76px 90px 118px;gap:8px}
  .issue .meta{display:none}
}

/* Modal (more opaque + readable) */
.modalBackdrop{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.70);
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
  display:none;
  align-items:center;
  justify-content:center;
  padding:18px;
}
.modalBackdrop.open{display:flex}

.modal{
  width:min(720px, 100%);
  border-radius:var(--r2);
  border:1px solid rgba(255,255,255,.14);
  background: linear-gradient(180deg, #141b2a 0%, #0f1524 100%);
  box-shadow: 0 22px 60px rgba(0,0,0,.65);
  overflow:hidden;
}

.modalHeader{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:12px;
  padding:14px;
  border-bottom:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
}
.modalHeader h2{margin:0;font-size:16px}
.modalSub{margin:6px 0 0;color:var(--muted);font-size:12px;line-height:1.35}
.modalBody{padding:14px}

.tabs{display:flex;gap:8px;margin-bottom:12px}
.tab{
  padding:9px 10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  color:var(--muted);
  cursor:pointer;
  font-weight:650;
}
.tab.active{
  color:var(--text);
  background:linear-gradient(180deg, rgba(96,165,250,.30), rgba(96,165,250,.14));
}
.pane.hidden{display:none}
.modalActions{display:flex;justify-content:flex-end;margin-top:12px}
.note{margin-top:10px;color:var(--muted);font-size:12px;line-height:1.35}
.rowInline{margin-top:8px}
.checkbox{display:flex;gap:10px;align-items:center;color:var(--muted);font-size:12px}
.checkbox input{accent-color:var(--accent)}
/* =========================
   Prompt Builder additions
   ========================= */

.panel{ padding:14px; }
.panelRow{ margin-top: 8px; }
.panelRow:first-child{ margin-top: 0; }

textarea{
  width:100%;
  padding:12px 12px;
  border-radius:12px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.18);
  color:var(--text);
  outline:none;
  box-shadow:inset 0 1px 0 rgba(255,255,255,.06);
  resize: vertical;
  min-height: 220px;
  line-height: 1.35;
}

.imageBar{
  display:flex;
  gap:10px;
  align-items:center;
  flex-wrap:wrap;
  margin-top: 10px;
}

.note.warn{
  color: rgba(251, 113, 133, .85);
}

.note.good{
  color: rgba(74, 222, 128, .85);
}

